<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sparkam | AI Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <script src="brain-core.js"></script>
    <script src="promotion-engine.js"></script>
</head>
<body>
    <header>
        <h1>AI Command Center</h1>
        <nav><a href="ai-studio.html">Back to Studio</a></nav>
    </header>

    <main>
        <section id="status-board">
            <h2>Current Autonomous Status</h2>
            <div id="active-strategy" class="card">Loading Brain...</div>
        </section>

        <section id="campaign-queue">
            <h2>AI Generated Campaigns</h2>
            <div id="campaign-list">
                </div>
        </section>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const memory = MusicAIBrain.memory;
            const strategyEl = document.getElementById('active-strategy');
            const listEl = document.getElementById('campaign-list');

            if (memory.tracks.length === 0) {
                strategyEl.innerHTML = "<p>Brain is Idle. Analyze a track in the Studio to begin.</p>";
            } else {
                strategyEl.innerHTML = `<h3>Active Strategy: ${memory.currentStrategy}</h3>`;
                
                // Display each track and its AI-generated promotion
                memory.tracks.forEach(track => {
                    const campaign = PromotionEngine.generateCampaign(track);
                    const div = document.createElement('div');
                    div.className = 'card';
                    div.innerHTML = `
                        <strong>Track:</strong> ${track.name}<br>
                        <strong>Platform:</strong> ${campaign.platform}<br>
                        <strong>Draft:</strong> <em>"${campaign.postContent}"</em><br>
                        <button onclick="alert('Deploying to API...')">Approve & Deploy</button>
                    `;
                    listEl.appendChild(div);
                });
            }
        });
    </script>
</body>
</html>
